/* ==========================================================
   FREEGOODS MANAGEMENT TABLE STYLLES - AESTHETIC GREEN THEME
   ========================================================== */

:root {
    --fg-primary: #3A6B35;
    --fg-secondary: #2E532E;
    --fg-primary-light: #6a994e;

    /* [PERUBAHAN] Mengganti gradasi biru menjadi hijau */
    --badge-blue-gradient: linear-gradient(to right, #34d399, #10b981);
    --badge-cyan-gradient: linear-gradient(to right, #22d3ee, #06b6d4);
    --badge-gold-gradient: linear-gradient(to right, #ca8a04, #a16207);
    --badge-orange-gradient: linear-gradient(to right, #f97316, #ea580c);

    --fg-danger: #a94442;
    --fg-black: #1f1f1f;
    --fg-dark-bg: #2d2d2d;
    --fg-dark-text: var(--fg-black);
    --fg-light-bg: #f7f9f8;
    --fg-grey: #6c757d;
}

/* ========================================
   MODAL, CARD & GENERAL ELEMENTS
   ======================================== */

.modal-header,
.card-header,
.table-header-enhanced,
.section-header,
.slip-title-enhanced,
.modal-header-enhanced {
    background: linear-gradient(135deg, var(--fg-primary) 0%, var(--fg-secondary) 100%);
    color: white;
    border-bottom: 2px solid rgba(46, 83, 46, 0.5);
    padding: 1rem 1.5rem;
}

.modal-footer {
    background-color: #f8f8f8;
    border-top: 1px solid #e9ecef;
}

.main-title {
    color: var(--fg-dark-text) !important;
    font-weight: 700;
}

.app-line-breadcrumbs li.active a {
    color: var(--fg-primary) !important;
}

.text-warning {
    color: var(--fg-primary) !important;
}

/* ========================================
   BUTTONS
   ======================================== */

.btn-primary-theme, .new-sample-btn, .new-freegoods-btn, .modal-footer .btn-secondary {
    background: linear-gradient(135deg, var(--fg-primary) 0%, var(--fg-secondary) 100%) !important;
    border: none !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(58, 107, 53, 0.3);
    transition: all 0.3s ease;
}
.btn-primary-theme:hover, .new-sample-btn:hover, .new-freegoods-btn:hover, .modal-footer .btn-secondary:hover {
    background: linear-gradient(135deg, #4a8b45 0%, var(--fg-primary) 100%) !important;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(58, 107, 53, 0.4);
    color: white !important;
}

.btn-secondary {
    background: linear-gradient(135deg, var(--fg-dark-bg) 0%, var(--fg-black) 100%) !important;
    border: none !important;
    color: white !important;
}
.btn-secondary:hover {
    background: linear-gradient(135deg, #4f4f4f 0%, var(--fg-dark-bg) 100%) !important;
    color: white !important;
}

.btn-light-secondary, .modal-footer .btn-danger {
    background-color: #f0f2f5 !important;
    border: 1px solid #dcdcdc !important;
    color: #495057 !important;
    font-weight: 600 !important;
}
.btn-light-secondary:hover, .modal-footer .btn-danger:hover {
    background-color: #e9ecef !important;
    border-color: #c8c8c8 !important;
    color: #212529 !important;
}

.btn-danger {
    background: var(--fg-danger) !important;
    border-color: var(--fg-danger) !important;
}
.btn-danger:hover {
    background: #8b3634 !important;
    border-color: #8b3634 !important;
}


/* ========================================
   FORMS & INPUTS
   ======================================== */

.form-control:focus, .form-select:focus,
.select2-container--bootstrap-5 .select2-selection--single:focus,
.select2-container--bootstrap-5 .select2-selection--multiple:focus {
    border-color: var(--fg-primary) !important;
    box-shadow: 0 0 0 0.25rem rgba(58, 107, 53, 0.25) !important;
}

.select2-container--bootstrap-5 .select2-results__option--highlighted {
    background-color: var(--fg-primary-light) !important;
    color: white !important;
}

.form-check-input:checked {
    background-color: var(--fg-primary) !important;
    border-color: var(--fg-primary) !important;
}

/* ========================================
   DATATABLE STYLING
   ======================================== */

.main-table-container {
    background: white;
    border-radius: 1rem;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(58, 107, 53, 0.3);
    overflow: hidden;
}

.main-table-container .table-responsive {
    padding: 1.5rem;
}

.table-title {
    color: white;
    display: flex;
    align-items: center;
    font-size: 1.5rem;
}
.table-title .ph-list {
    margin-right: 12px;
    font-size: 1.1em;
}
.table-subtitle {
    color: rgba(255, 255, 255, 0.85);
    margin-top: 4px;
}

.dataTables_filter {
    margin-bottom: 1.5rem !important;
}

.dataTables_filter input {
    border: 2px solid rgba(58, 107, 53, 0.4) !important;
    border-radius: 10px !important;
    background-color: rgba(58, 107, 53, 0.05) !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%233A6B35' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: left 12px center;
    padding-left: 40px !important;
    height: 44px;
}
.dataTables_filter input:focus {
    background-color: white !important;
}
.dataTables_filter label, .dataTables_length label, .dataTables_info {
    font-weight: 600;
    color: var(--fg-dark-text);
}

.main-table-container table.dataTable thead th {
    background: linear-gradient(to bottom, #4a6b4a, #3a523a) !important;
    color: white !important;
    border: none !important;
    border-right: 1px solid rgba(255, 255, 255, 0.15) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    font-size: 14px !important;
    padding: 1rem 15px !important;
    vertical-align: middle !important;
    text-align: center !important;
}
.main-table-container table.dataTable thead th:last-child {
    border-right: none !important;
}


.main-table-container table.dataTable tbody td {
    padding: 18px 15px !important;
    border-bottom: 1px solid rgba(58, 107, 53, 0.2) !important;
    vertical-align: middle !important;
    font-size: 15px !important;
    font-weight: 500 !important;
    color: #495057 !important;
}

.main-table-container table.dataTable tbody tr:nth-child(even) {
    background: var(--fg-light-bg) !important;
}

.main-table-container table.dataTable tbody tr:hover {
    background: linear-gradient(90deg, rgba(58, 107, 53, 0.15) 0%, rgba(58, 107, 53, 0.05) 100%) !important;
}

/* ========================================
   PAGINATION
   ======================================== */

.page-link,
.dataTables_paginate .paginate_button {
    color: var(--fg-primary) !important;
    background-color: white !important;
    border-radius: 8px !important;
    margin: 0 3px !important;
    border: 1px solid rgba(58, 107, 53, 0.3) !important;
    transition: all 0.2s ease-in-out;
}

.dataTables_paginate .paginate_button {
    padding: 0.5em 1em;
}

.dataTables_wrapper .dataTables_paginate .page-item.active .page-link,
.dataTables_wrapper .dataTables_paginate .paginate_button.current,
.dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
    background: linear-gradient(135deg, var(--fg-primary) 0%, var(--fg-secondary) 100%) !important;
    border-color: var(--fg-secondary) !important;
    color: white !important;
    box-shadow: 0 2px 8px rgba(58, 107, 53, 0.4);
}

.page-link:hover,
.dataTables_paginate .paginate_button:not(.disabled):not(.current):hover {
    color: var(--fg-primary) !important;
    background-color: rgba(58, 107, 53, 0.1) !important;
    border-color: rgba(58, 107, 53, 0.4) !important;
}

.dataTables_paginate .paginate_button.disabled,
.dataTables_paginate .paginate_button.disabled:hover {
    color: #999 !important;
    opacity: 0.7;
    cursor: not-allowed;
    background-color: #f7f7f7 !important;
}
/* ========================================
   ACTION BUTTONS & BADGES
   ======================================== */

.badge-custom {
    color: #ffffff !important;
    font-weight: 600 !important;
    font-size: 0.875rem !important;
    padding: 0.4em 0.8em !important;
    border-radius: 50rem !important;
    border: none !important;
    box-shadow: 0 1px 4px rgba(0,0,0,0.15);
}

.badge-fg-no {
    background: var(--badge-blue-gradient) !important;
}
.badge-category {
    background: var(--badge-cyan-gradient) !important;
}
.badge-route-to {
    background: var(--badge-gold-gradient) !important;
}
.badge-status-pending {
    background: var(--badge-orange-gradient) !important;
}

/* [UPDATE] Menambahkan kelas baru untuk status "In Progress" */
.badge-status-progress {
    background: var(--badge-cyan-gradient) !important;
}

/* Style untuk badge Requester */
.requester-badge {
    background-color: #4A5568;
    color: #ffffff;
    padding: 0.35em 0.75em;
    font-size: 0.875rem;
    font-weight: 600;
    border-radius: 50rem;
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    white-space: nowrap;
}
.requester-badge i {
    font-size: 1.2em;
}

.action-btn-group {
    display: flex;
    gap: 8px;
    justify-content: center;
    align-items: center;
}

.action-btn-group .btn-info {
    background: var(--badge-cyan-gradient) !important;
    box-shadow: 0 2px 8px rgba(34, 211, 238, 0.3) !important;
}
.action-btn-group .btn-info:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(34, 211, 238, 0.4) !important;
}

.action-btn-group .btn-danger {
    background: linear-gradient(135deg, #a94442 0%, #8b3634 100%) !important;
    box-shadow: 0 2px 8px rgba(169, 68, 66, 0.3) !important;
}
.action-btn-group .btn-danger:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(169, 68, 66, 0.4) !important;
}

/* ========================================
   VIEW MODAL & TRACKER
   ======================================== */

.view-modal-card { border: none; border-radius: .75rem; box-shadow: 0 4px 12px rgba(0,0,0, .08); margin-bottom: 1.5rem !important; }
.view-modal-card-header h5 { color: var(--fg-primary); font-weight: 600; margin-bottom: 0; }

.view-modal-card .card-header h5 {
    color: #d8e468 !important;
}

.tracker-line-progress {
    background: linear-gradient(135deg, var(--fg-primary) 0%, var(--fg-secondary) 100%);
}
.tracker-step.completed .tracker-icon {
    background: linear-gradient(135deg, var(--fg-primary) 0%, var(--fg-secondary) 100%);
    border-color: var(--fg-secondary);
}
.tracker-step.active .tracker-icon {
    background-color: var(--fg-primary);
    border-color: var(--fg-primary);
}
.tracker-step.rejected .tracker-icon {
    background-color: var(--fg-danger);
    border-color: var(--fg-danger);
}

/* ========================================
   UTILITIES & ANIMATIONS
   ======================================== */

.dataTables_processing {
    background: rgba(255, 255, 255, 0.9) !important;
    color: var(--fg-primary) !important;
    font-weight: 600 !important;
    border-radius: 12px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1) !important;
    border: 2px solid rgba(58, 107, 53, 0.4) !important;
    animation: pulse 1.5s infinite;
}
@keyframes pulse { 0% { opacity: 0.6; } 50% { opacity: 1; } 100% { opacity: 0.6; } }

.action-btn-group .btn { padding: 8px 10px; border-radius: 8px; font-size: 0.85em; font-weight: 600; transition: all 0.3s ease; border: none; position: relative; overflow: hidden; }
.action-btn-group .btn::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; background: rgba(255, 255, 255, 0.3); border-radius: 50%; transition: all 0.3s ease; transform: translate(-50%, -50%); }
.action-btn-group .btn:hover::before { width: 100px; height: 100px; }

@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
.main-table-container, .dataTables_wrapper, .d-flex.justify-content-between.align-items-center.mb-4 { animation: fadeInUp 0.8s ease-out forwards; opacity: 0; animation-fill-mode: forwards; }

.modal.fade .modal-dialog { transition: transform 0.4s ease-out, opacity 0.4s ease-out; transform: translate(0, -50px) scale(0.95); }
.modal.show .modal-dialog { transform: translate(0, 0) scale(1); }

.action-tooltip {
    position: absolute;
    background: linear-gradient(135deg, var(--fg-dark-bg) 0%, var(--fg-black) 100%);
    color: white;
    padding: 8px 12px;
    border-radius: 8px;
    font-size: 0.75em;
    font-weight: 600;
    z-index: 9999 !important;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
    white-space: nowrap;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    border: 1px solid rgba(58, 107, 53, 0.5);
}
.action-tooltip::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -6px;
    border: 6px solid transparent;
    border-top-color: var(--fg-dark-bg);
}
.action-tooltip.show { opacity: 1; }

.modal-xl { max-width: 80vw !important; }
.modal-body { max-height: calc(100vh - 210px); overflow-y: auto; }
.view-label { color: #6c757d; font-size: 0.85rem; margin-bottom: .25rem; display: block; }
.view-data { font-weight: 600; color: #212529; margin-bottom: 0; }
.tracker-container { display: flex; justify-content: space-between; position: relative; padding: 10px 0; }
.tracker-line { position: absolute; top: 16px; left: 5%; right: 5%; height: 3px; background-color: #e9ecef; z-index: 1; }
.tracker-step { position: relative; z-index: 3; text-align: center; width: 16%; }
.tracker-icon { width: 30px; height: 30px; border-radius: 50%; background-color: #ced4da; color: #fff; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; border: 2px solid #ced4da; transition: all 0.3s ease; }

.tracker-label {
    font-size: 0.8rem;
    font-weight: 600;
    color: #495057;
}
.tracker-step.completed .tracker-label, .tracker-step.active .tracker-label {
    color: #212529;
}
.tracker-details {
    font-size: 0.75rem;
    margin-top: 5px;
    min-height: 30px;
}
.loading-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(255, 255, 255, 0.85);
    z-index: 10;
    display: flex; flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: .75rem;
    color: var(--fg-primary);
}